(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,39982,e=>{"use strict";var t=e.i(80506),s=e.i(8331);function r({post:e}){let r=new Date(e.created_at).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});return(0,t.jsx)(s.default,{href:`/posts/${e.id}`,className:"block",children:(0,t.jsx)("div",{className:"group relative bg-slate-900 rounded-xl shadow-sm border border-slate-800 overflow-hidden hover:shadow-md hover:border-slate-700 transition-all h-full",children:(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[e.category?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/50 text-blue-200 border border-blue-800",children:e.category}):(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-800 text-slate-300 border border-slate-700",children:"일반"}),(0,t.jsx)("span",{className:"text-xs text-slate-500",children:r})]}),(0,t.jsx)("h3",{className:"text-lg font-bold text-slate-100 mb-2 group-hover:text-blue-400 transition-colors",children:e.title}),(0,t.jsx)("p",{className:"text-slate-400 text-sm line-clamp-2 mb-4",children:e.content}),e.image_urls&&e.image_urls.length>0&&(0,t.jsxs)("div",{className:"flex gap-2 overflow-hidden h-20 rounded-lg",children:[e.image_urls.slice(0,3).map((e,s)=>(0,t.jsx)("img",{src:e,alt:"",className:"w-full h-full object-cover flex-1 min-w-0"},s)),e.image_urls.length>3&&(0,t.jsxs)("div",{className:"flex-1 bg-slate-800 flex items-center justify-center text-xs text-slate-400 font-medium border border-slate-700",children:["+",e.image_urls.length-3]})]})]})})})}var l=e.i(17927),a=e.i(778);function o(){let[e,o]=(0,a.useState)([]),[i,n]=(0,a.useState)([]),[d,c]=(0,a.useState)(!0),[m,x]=(0,a.useState)("전체");(0,a.useEffect)(()=>{(async()=>{c(!0);let{data:e,error:t}=await l.supabase.from("categories").select("*").order("created_at",{ascending:!0});t?console.error("Error fetching categories:",t):n(e??[]);let{data:s,error:r}=await l.supabase.from("posts").select("*").order("created_at",{ascending:!1});r?console.error("Error fetching posts:",r):o(s??[]),c(!1)})()},[]);let u=async()=>{let e=window.prompt("추가할 카테고리 이름을 입력하세요:");if(!e||!e.trim())return;if(i.some(t=>t.name===e.trim()))return void alert("이미 존재하는 카테고리입니다.");let{data:t,error:s}=await l.supabase.from("categories").insert([{name:e.trim()}]).select();s?(console.error("Error adding category:",s),alert("카테고리 추가 실패")):t&&n([...i,t[0]])},h=Array.from(new Set([...i.map(e=>e.name),...e.map(e=>e.category).filter(Boolean)])).sort(),b="전체"===m?e:e.filter(e=>e.category===m);return d?(0,t.jsx)("div",{className:"flex h-[50vh] items-center justify-center",children:(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})}):(0,t.jsxs)("div",{className:"space-y-6 pb-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-2xl text-slate-400",children:"BOARD"})}),(0,t.jsx)(s.default,{href:"/posts/create",className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors shadow-lg shadow-blue-900/20",children:"글쓰기"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto pb-4 scrollbar-hide",children:[(0,t.jsx)("button",{onClick:()=>x("전체"),className:`whitespace-nowrap px-3 py-1.5 rounded-full text-sm font-medium transition-all border ${"전체"===m?"bg-blue-900/50 text-blue-200 border-blue-800 shadow-sm":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700"}`,children:"전체"}),0===h.length&&0===i.length?(0,t.jsx)("span",{className:"text-sm text-slate-500 whitespace-nowrap px-2",children:"카테고리가 없습니다."}):h.map(e=>(0,t.jsx)("button",{onClick:()=>x(e),className:`whitespace-nowrap px-3 py-1.5 rounded-full text-sm font-medium transition-all border ${m===e?"bg-blue-900/50 text-blue-200 border-blue-800 shadow-sm":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700"}`,children:e},e)),(0,t.jsx)("button",{onClick:u,className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-slate-800 text-slate-400 hover:bg-blue-600 hover:text-white transition-all border border-slate-600 hover:border-blue-500",title:"카테고리 추가",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),(0,t.jsx)("div",{children:0===b.length?(0,t.jsxs)("div",{className:"flex h-64 flex-col items-center justify-center rounded-xl border-2 border-dashed border-slate-800 bg-slate-900/50",children:[(0,t.jsx)("p",{className:"text-slate-500 mb-2",children:"아직 작성된 글이 없습니다."}),"전체"!==m&&(0,t.jsx)("button",{onClick:()=>x("전체"),className:"text-blue-400 text-sm hover:underline",children:"전체 보기"})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:b.map(e=>(0,t.jsx)(r,{post:e},e.id))})})]})}e.s(["default",()=>o],39982)}]);