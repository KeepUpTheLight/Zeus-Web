module.exports=[84928,a=>{"use strict";var b=a.i(50586),c=a.i(74949);function d({post:a}){let d=new Date(a.created_at).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"});return(0,b.jsx)(c.default,{href:`/posts/${a.id}`,className:"block",children:(0,b.jsx)("div",{className:"group relative bg-slate-900 rounded-xl shadow-sm border border-slate-800 overflow-hidden hover:shadow-md hover:border-slate-700 transition-all h-full",children:(0,b.jsxs)("div",{className:"p-5",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[a.category?(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/50 text-blue-200 border border-blue-800",children:a.category}):(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-800 text-slate-300 border border-slate-700",children:"일반"}),(0,b.jsx)("span",{className:"text-xs text-slate-500",children:d})]}),(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-100 mb-2 group-hover:text-blue-400 transition-colors",children:a.title}),(0,b.jsx)("p",{className:"text-slate-400 text-sm line-clamp-2 mb-4",children:a.content}),a.image_urls&&a.image_urls.length>0&&(0,b.jsxs)("div",{className:"flex gap-2 overflow-hidden h-20 rounded-lg",children:[a.image_urls.slice(0,3).map((a,c)=>(0,b.jsx)("img",{src:a,alt:"",className:"w-full h-full object-cover flex-1 min-w-0"},c)),a.image_urls.length>3&&(0,b.jsxs)("div",{className:"flex-1 bg-slate-800 flex items-center justify-center text-xs text-slate-400 font-medium border border-slate-700",children:["+",a.image_urls.length-3]})]})]})})})}var e=a.i(78560),f=a.i(92989);function g(){let[a,g]=(0,f.useState)([]),[h,i]=(0,f.useState)([]),[j,k]=(0,f.useState)(!0),[l,m]=(0,f.useState)("전체");(0,f.useEffect)(()=>{(async()=>{k(!0);let{data:a,error:b}=await e.supabase.from("categories").select("*").order("created_at",{ascending:!0});b?console.error("Error fetching categories:",b):i(a??[]);let{data:c,error:d}=await e.supabase.from("posts").select("*").order("created_at",{ascending:!1});d?console.error("Error fetching posts:",d):g(c??[]),k(!1)})()},[]);let n=async()=>{let a=window.prompt("추가할 카테고리 이름을 입력하세요:");if(!a||!a.trim())return;if(h.some(b=>b.name===a.trim()))return void alert("이미 존재하는 카테고리입니다.");let{data:b,error:c}=await e.supabase.from("categories").insert([{name:a.trim()}]).select();c?(console.error("Error adding category:",c),alert("카테고리 추가 실패")):b&&i([...h,b[0]])},o=Array.from(new Set([...h.map(a=>a.name),...a.map(a=>a.category).filter(Boolean)])).sort(),p="전체"===l?a:a.filter(a=>a.category===l);return j?(0,b.jsx)("div",{className:"flex h-[50vh] items-center justify-center",children:(0,b.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-500 border-t-transparent"})}):(0,b.jsxs)("div",{className:"space-y-6 pb-20",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-2xl text-slate-400",children:"BOARD"})}),(0,b.jsx)(c.default,{href:"/posts/create",className:"rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 transition-colors shadow-lg shadow-blue-900/20",children:"글쓰기"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 overflow-x-auto pb-4 scrollbar-hide",children:[(0,b.jsx)("button",{onClick:()=>m("전체"),className:`whitespace-nowrap px-3 py-1.5 rounded-full text-sm font-medium transition-all border ${"전체"===l?"bg-blue-900/50 text-blue-200 border-blue-800 shadow-sm":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700"}`,children:"전체"}),0===o.length&&0===h.length?(0,b.jsx)("span",{className:"text-sm text-slate-500 whitespace-nowrap px-2",children:"카테고리가 없습니다."}):o.map(a=>(0,b.jsx)("button",{onClick:()=>m(a),className:`whitespace-nowrap px-3 py-1.5 rounded-full text-sm font-medium transition-all border ${l===a?"bg-blue-900/50 text-blue-200 border-blue-800 shadow-sm":"bg-slate-800 text-slate-400 border-slate-700 hover:bg-slate-700"}`,children:a},a)),(0,b.jsx)("button",{onClick:n,className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-slate-800 text-slate-400 hover:bg-blue-600 hover:text-white transition-all border border-slate-600 hover:border-blue-500",title:"카테고리 추가",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),(0,b.jsx)("div",{children:0===p.length?(0,b.jsxs)("div",{className:"flex h-64 flex-col items-center justify-center rounded-xl border-2 border-dashed border-slate-800 bg-slate-900/50",children:[(0,b.jsx)("p",{className:"text-slate-500 mb-2",children:"아직 작성된 글이 없습니다."}),"전체"!==l&&(0,b.jsx)("button",{onClick:()=>m("전체"),className:"text-blue-400 text-sm hover:underline",children:"전체 보기"})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:p.map(a=>(0,b.jsx)(d,{post:a},a.id))})})]})}a.s(["default",()=>g],84928)}];

//# sourceMappingURL=app_board_page_tsx_879c1e91._.js.map